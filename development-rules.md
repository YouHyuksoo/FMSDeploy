# 개발 규칙 가이드

이 문서는 AI 에이전트가 FMS 프로젝트에서 일관성 있고 효율적인 개발을 수행하기 위해 따라야 할 규칙과 가이드라인을 정의합니다.

## 1. 페이지 레이아웃 (Next.js App Router)

- **레이아웃 적용 원칙**: 개별 `page.tsx` 파일에 직접 `MainLayout`과 같은 공통 레이아웃 컴포넌트를 적용하지 않습니다.
- **공유 레이아웃**: 특정 경로 그룹(예: `/system/*`, `/equipment/*`)이 동일한 레이아웃을 공유해야 할 경우, 해당 경로의 부모 디렉토리에 `layout.tsx` 파일을 생성하여 레이아웃을 적용합니다. 이 방식은 Next.js App Router의 기본 동작이며, 해당 레이아웃이 모든 하위 페이지에 자동으로 적용되도록 보장합니다.
  - **예시**: `app/system/layout.tsx` 파일은 `/system`으로 시작하는 모든 경로에 `MainLayout`을 적용합니다.

## 2. 컴포넌트 구조

- **컴포넌트 위치**: 모든 재사용 가능한 React 컴포넌트는 최상위 `components` 디렉토리 내에 위치해야 합니다. `app` 디렉토리 내부에는 컴포넌트 파일을 두지 않는 것을 원칙으로 합니다.
- **디렉토리 구조**: `components` 디렉토리 내에서는 기능 및 도메인별로 하위 디렉토리를 만들어 컴포넌트를 체계적으로 관리합니다.
  - **예시**: 시스템 환경설정 관련 컴포넌트는 `components/system/configuration/` 내에 위치합니다.

## 3. 메뉴 및 국제화 (i18n)

- **사이드바 메뉴 수정**: 사이드바에 새로운 메뉴 항목을 추가할 때는 `components/layout/sidebar.tsx` 파일의 `menuItems` 배열을 수정합니다.
- **번역 키 추가**: 새로운 메뉴 항목의 이름은 `public/locales/[언어]/menu.json` 파일에 `[메인메뉴].[서브메뉴]` 형식의 키로 추가하고 관리합니다.
- **중복 방지**: 새로운 메뉴나 번역 키를 추가하기 전에 반드시 기존에 동일한 항목이 있는지 확인하여 중복을 방지합니다.

## 4. 개발 أفضل الممارسات (Best Practices)

- **기존 코드 참조**: 새로운 페이지나 기능을 구현할 때는, 이미 잘 구현된 다른 기능(예: '설비 등록 관리' 페이지)의 코드 구조와 패턴을 참조하여 프로젝트 전체의 일관성을 유지합니다.
- **액션 파일 관리**: 서버 액션(Server Actions)은 `app/actions` 디렉토리 내에서 기능별로 파일을 분리하여 관리합니다. (예: `system-actions.ts`)
